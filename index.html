<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" type="text/css" href="./static/css/reset.css"/>
  <link rel="stylesheet" type="text/css" href="./static/css/fonts.css"/>
  <link rel="stylesheet" type="text/css" href="./static/css/shared.css"/>
  <script src="./static/js/jquery-2.0.0.js"></script>
  <script src="./static/js/jquery-ui-1.10.3.js"></script>
  <script src="./node_modules/underscore/underscore.js"></script>
  <script src="./node_modules/backbone/backbone.js"></script>
  <script src="./static/js/Tween.js"></script>
  <script src="./static/notifications/nw-desktop-notifications.js"></script>
  <script src="./static/js/leap.min.js"></script>
</head>
<body class="startup">


  <script>
    (function() {
      process.env.LEAPHOME_ENV = process.env.LEAPHOME_ENV || 'production';
      var path = require('path');
      global.$ = window.$;
      global._ = window._;
      global.LeapHomeDir = path.resolve('.');
      global.nwGui = window.nwGui = require('nw.gui');
      global.document = window.document;
      global.uiGlobals = require('./app/ui-globals.js');
      window.document.title = global.uiGlobals.appName;
      require('./app/utils/logging.js');
      console.log('Using node-webkit version ' + process.versions['node-webkit']);
      var bootstrapScriptPath = process.env.BOOTSTRAP_SCRIPT_PATH || './app/airspace.js'; // a hook primarily used for testing
      var airspace = require(bootstrapScriptPath);
      window.onload = function() {
        airspace.run();
      };
    })();
  </script>

    <script>

    (function() {
      var ctl = new Leap.Controller({enableGestures: true});
      var swiper = ctl.gesture('swipe');

      swiper.start(function(g) {
        swiper.currentSwipe = g;
      });

      swiper.update(function(g) {
        if (swiper.currentSwipe === true) return;
        var pos = g.translation()[0];
        if (Math.abs(pos) > 100) {
          var isLeft = pos > 0;
          global.uiGlobals.trigger('swipe' + (isLeft ? 'left' : 'right'));
        }
      });

      // ctl.connect() FIXME re-enable experimentally somehow
    })();
  </script>
</body>
</html>



